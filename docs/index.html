<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ICL - Interactive Common Lisp</title>
  <meta name="description" content="An enhanced REPL for Common Lisp with syntax highlighting, browser interface, data visualization, and AI integration.">
  <link rel="icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav class="nav">
    <div class="nav-container">
      <a href="#" class="nav-logo">ICL</a>
      <div class="nav-links">
        <a href="#features">Features</a>
        <a href="#install">Install</a>
        <a href="https://github.com/atgreen/icl" class="nav-github">GitHub</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="hero-bg"></div>
    <canvas id="parens-canvas" aria-hidden="true"></canvas>
    <div class="container">
      <div class="hero-content">
        <h1>Interactive Common Lisp</h1>
        <p class="hero-subtitle">A modern REPL experience with syntax highlighting, auto-completion, data visualization, and AI integration</p>
        <p class="hero-lisps">Works with SBCL, CCL, ECL, ABCL, Clasp, and Roswell</p>
        <div class="hero-badges">
          <a href="https://github.com/atgreen/icl/actions/workflows/ci.yaml"><img src="https://github.com/atgreen/icl/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
          <a href="https://github.com/atgreen/icl/releases/latest"><img src="https://img.shields.io/github/v/release/atgreen/icl" alt="Release"></a>
          <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a>
        </div>
        <div class="hero-cta">
          <a href="https://github.com/atgreen/icl/releases/latest" class="btn btn-primary">
            <span class="btn-icon">‚Üì</span> Download
          </a>
          <a href="https://github.com/atgreen/icl" class="btn btn-ghost">
            View Source
          </a>
        </div>

        <div class="hero-terminal">
          <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
          </div>
          <pre class="terminal-body"><span class="prompt">$</span> icl
<span class="comment">;; ICL - Interactive Common Lisp</span>
<span class="prompt">CL-USER&gt;</span> (defun greet (name)
           (format nil <span class="string">"Hello, ~A!"</span> name))
<span class="result">=&gt; GREET</span>
<span class="prompt">CL-USER&gt;</span> (greet <span class="string">"Lisper"</span>)
<span class="result">=&gt; "Hello, Lisper!"</span>
<span class="prompt">CL-USER&gt;</span> <span class="cursor">‚ñå</span></pre>
        </div>
      </div>
    </div>
  </header>

  <section class="modes">
    <div class="container">
      <h2 class="section-title">Three Ways to REPL</h2>
      <p class="section-subtitle">Use ICL however you prefer</p>

      <div class="modes-grid">
        <div class="mode-card">
          <div class="mode-header">
            <span class="mode-icon">‚å®</span>
            <h3>Terminal</h3>
          </div>
          <div class="mode-demo">
            <img src="terminal-demo.gif" alt="Terminal Demo" loading="lazy">
          </div>
          <p>Syntax highlighting, paredit, tab completion, and interactive object inspector</p>
          <code class="mode-cmd">icl</code>
        </div>

        <div class="mode-card">
          <div class="mode-header">
            <span class="mode-icon">üåê</span>
            <h3>Browser</h3>
          </div>
          <div class="mode-demo">
            <img src="browser-demo.gif" alt="Browser Demo" loading="lazy">
          </div>
          <p>Package browser, symbol inspector, class hierarchies, and data visualization</p>
          <code class="mode-cmd">icl -b</code>
        </div>

        <div class="mode-card">
          <div class="mode-header">
            <span class="mode-icon">üìù</span>
            <h3>Emacs</h3>
          </div>
          <div class="mode-demo emacs-demo">
            <div class="emacs-placeholder">
              <pre><span class="emacs-comment">;; In Emacs with SLY or SLIME:</span>
<span class="emacs-fn">M-x</span> icl

<span class="emacs-comment">;; Visualizations sync with your</span>
<span class="emacs-comment">;; REPL evaluations automatically</span></pre>
            </div>
          </div>
          <p>Integrates with SLY/SLIME for synchronized browser visualizations</p>
          <code class="mode-cmd">M-x icl</code>
        </div>
      </div>
    </div>
  </section>

  <section class="showcase">
    <div class="container">
      <div class="showcase-item">
        <div class="showcase-content">
          <h3>Flame Graph Profiling</h3>
          <p>Profile any expression and explore the results in an interactive Speedscope visualization. Identify performance bottlenecks with Time Order, Left Heavy, and Sandwich views.</p>
          <code>,flame (my-expensive-function)</code>
        </div>
        <div class="showcase-media">
          <img src="flamegraph-demo.png" alt="Flame Graph Demo" loading="lazy">
        </div>
      </div>
    </div>
  </section>

  <section id="features" class="features">
    <div class="container">
      <h2 class="section-title">Features</h2>
      <div class="features-grid">
        <div class="feature">
          <div class="feature-icon">üé®</div>
          <h4>Syntax Highlighting</h4>
          <p>Colorized input with matching parentheses</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üîß</div>
          <h4>Paredit Mode</h4>
          <p>Structural editing with balanced parens</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üìä</div>
          <h4>Data Visualization</h4>
          <p>Hash tables, classes, Vega-Lite, Mermaid</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üî•</div>
          <h4>Flame Graphs</h4>
          <p>Interactive Speedscope profiling</p>
        </div>
        <div class="feature">
          <div class="feature-icon">ü§ñ</div>
          <h4>AI Integration</h4>
          <p>Explain code with Claude, Gemini, Codex</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üîç</div>
          <h4>Object Inspector</h4>
          <p>TUI for exploring complex objects</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üì¶</div>
          <h4>Multiple Lisps</h4>
          <p>SBCL, CCL, ECL, ABCL, Clasp, Roswell</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üî¨</div>
          <h4>Disassembly View</h4>
          <p>Visualize function machine code</p>
        </div>
      </div>
    </div>
  </section>

  <section id="install" class="install">
    <div class="container">
      <h2 class="section-title">Installation</h2>
      <div class="install-grid">
        <div class="install-card">
          <h4>Pre-built Binaries</h4>
          <p>Download RPM, DEB, or Windows installers</p>
          <a href="https://github.com/atgreen/icl/releases" class="btn btn-small">Download ‚Üí</a>
        </div>
        <div class="install-card">
          <h4>Roswell</h4>
          <pre><code>ros install atgreen/icl</code></pre>
        </div>
        <div class="install-card">
          <h4>Build from Source</h4>
          <pre><code>git clone https://github.com/atgreen/icl.git
cd icl && ocicl install && make</code></pre>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <span class="footer-logo">ICL</span>
          <span class="footer-tagline">Interactive Common Lisp</span>
        </div>
        <div class="footer-links">
          <a href="https://github.com/atgreen/icl">GitHub</a>
          <a href="https://github.com/atgreen/icl/releases">Releases</a>
          <a href="https://github.com/atgreen/icl/blob/master/README.md">Docs</a>
        </div>
      </div>
      <p class="footer-copyright">MIT License ¬∑ Created by <a href="https://github.com/atgreen">Anthony Green</a></p>
    </div>
  </footer>

  <script>
  (function() {
    const canvas = document.getElementById('parens-canvas');
    const ctx = canvas.getContext('2d');
    const hero = document.querySelector('.hero');

    let parens = [];
    const COUNT = 15;

    function resize() {
      canvas.width = hero.offsetWidth;
      canvas.height = hero.offsetHeight;
    }

    function createParen() {
      return {
        char: Math.random() > 0.5 ? '(' : ')',
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        z: Math.random() * 200 - 100,
        size: 60 + Math.random() * 140,
        speedY: -0.1 - Math.random() * 0.3,
        speedX: (Math.random() - 0.5) * 0.2,
        speedZ: (Math.random() - 0.5) * 0.5,
        opacity: 0.15 + Math.random() * 0.2,
        rotation: Math.random() * 0.2 - 0.1,
        rotationSpeed: (Math.random() - 0.5) * 0.001
      };
    }

    function init() {
      resize();
      parens = [];
      for (let i = 0; i < COUNT; i++) {
        parens.push(createParen());
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      parens.sort((a, b) => a.z - b.z);

      parens.forEach(p => {
        // Update position
        p.y += p.speedY;
        p.x += p.speedX;
        p.z += p.speedZ;
        p.rotation += p.rotationSpeed;

        // Wrap around
        if (p.y < -p.size) {
          p.y = canvas.height + p.size;
          p.x = Math.random() * canvas.width;
        }
        if (p.z > 100) p.speedZ = -Math.abs(p.speedZ);
        if (p.z < -100) p.speedZ = Math.abs(p.speedZ);

        // Calculate 3D scale
        const scale = (p.z + 200) / 300;
        const adjustedSize = p.size * scale;
        const adjustedOpacity = p.opacity * scale;

        // Draw
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rotation);
        ctx.font = `${adjustedSize}px "JetBrains Mono", "SF Mono", Monaco, monospace`;
        ctx.fillStyle = `rgba(20, 184, 166, ${adjustedOpacity})`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(p.char, 0, 0);
        ctx.restore();
      });

      requestAnimationFrame(draw);
    }

    window.addEventListener('resize', () => {
      resize();
    });

    init();
    draw();
  })();
  </script>
</body>
</html>
